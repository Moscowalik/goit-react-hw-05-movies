"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[310],{812:function(e,t,r){r.d(t,{Z:function(){return a}});var n="LoadMoreBtn_loadMoreBtn__EJd7v",o=r(184);function a(e){var t=e.onClick;return(0,o.jsx)("button",{type:"button",onClick:t,className:n,children:"Load more"})}},287:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(413),o=r(791),a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};var i=function(e){var t=e.animate,r=e.animateBegin,n=e.backgroundColor,i=e.backgroundOpacity,c=e.baseUrl,u=e.children,s=e.foregroundColor,l=e.foregroundOpacity,f=e.gradientRatio,d=e.gradientDirection,m=e.uniqueKey,p=e.interval,h=e.rtl,g=e.speed,y=e.style,v=e.title,b=e.beforeMask,x=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),j=m||Math.random().toString(36).substring(6),O=j+"-diff",w=j+"-animated-diff",_=j+"-aria",E=h?{transform:"scaleX(-1)"}:null,k="0; "+p+"; 1",Z=g+"s",S="top-bottom"===d?"rotate(90)":void 0;return(0,o.createElement)("svg",a({"aria-labelledby":_,role:"img",style:a(a({},y),E)},x),v?(0,o.createElement)("title",{id:_},v):null,b&&(0,o.isValidElement)(b)?b:null,(0,o.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+c+"#"+O+")",style:{fill:"url("+c+"#"+w+")"}}),(0,o.createElement)("defs",null,(0,o.createElement)("clipPath",{id:O},u),(0,o.createElement)("linearGradient",{id:w,gradientTransform:S},(0,o.createElement)("stop",{offset:"0%",stopColor:n,stopOpacity:i},t&&(0,o.createElement)("animate",{attributeName:"offset",values:-f+"; "+-f+"; 1",keyTimes:k,dur:Z,repeatCount:"indefinite",begin:r})),(0,o.createElement)("stop",{offset:"50%",stopColor:s,stopOpacity:l},t&&(0,o.createElement)("animate",{attributeName:"offset",values:-f/2+"; "+-f/2+"; "+(1+f/2),keyTimes:k,dur:Z,repeatCount:"indefinite",begin:r})),(0,o.createElement)("stop",{offset:"100%",stopColor:n,stopOpacity:i},t&&(0,o.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+f),keyTimes:k,dur:Z,repeatCount:"indefinite",begin:r})))))};i.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,gradientDirection:"left-right",id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading...",beforeMask:null};var c=function(e){return e.children?(0,o.createElement)(i,a({},e)):(0,o.createElement)(u,a({},e))},u=function(e){return(0,o.createElement)(c,a({viewBox:"0 0 476 124"},e),(0,o.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,o.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,o.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,o.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,o.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,o.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},s=c,l=r(184),f=function(e){return(0,l.jsxs)(s,(0,n.Z)((0,n.Z)({speed:2,width:600,height:120,viewBox:"0 0 600 120",backgroundColor:"#5422dd",foregroundColor:"#f4f0f0"},e),{},{children:[(0,l.jsx)("circle",{cx:"184",cy:"60",r:"20"}),(0,l.jsx)("circle",{cx:"426",cy:"60",r:"20"}),(0,l.jsx)("circle",{cx:"303",cy:"60",r:"20"})]}))}},645:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(504),o=r(871),a=r(635),i="MovieListItem_movieItemTitle__E0iTD",c="MovieListItem_movieItemItem__foXOj",u="MovieListItem_movieItemImg__j3dcD",s=r(184),l=function(e){var t=e.id,r=e.title,l=e.poster,f=(0,o.TH)();return(0,s.jsx)("li",{className:c,children:(0,s.jsxs)(n.rU,{to:"/movies/".concat(t),state:{from:f},children:[(0,s.jsx)("h3",{className:i,children:r}),l?(0,s.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(l),alt:r,width:120,className:u}):(0,s.jsx)("img",{src:a,alt:r,width:120,className:u})]})})},f="MovieList_movieList__uFrOZ",d=function(e){var t=e.movies;return(0,s.jsx)("ul",{className:f,children:t.map((function(e){var t=e.id,r=e.original_title,n=e.poster_path;return(0,s.jsx)(l,{id:t,title:r,poster:n},t)}))})}},310:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(982),o=r(413),a=r(885),i=r(140),c=r(791),u=r(871),s=r(502),l=r(645),f="Searchbar_formWrapper__wqJjc",d="Searchbar_searchInput__+BnhG",m=r(184);function p(e){var t=e.onSubmit,r=(0,c.useState)(""),n=(0,a.Z)(r,2),o=n[0],u=n[1];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),u("")):i.ZP.error("Enter the value of the request!")},className:f,children:(0,m.jsx)("input",{type:"text",name:"movieValue",value:o,onChange:function(e){return u(e.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search",className:d})})})}var h=r(287),g=r(812),y="MoviesPage_loader__y4+uI";function v(){var e=(0,c.useState)([]),t=(0,a.Z)(e,2),r=t[0],f=t[1],d=(0,c.useState)(""),v=(0,a.Z)(d,2),b=v[0],x=v[1],j=(0,c.useState)(1),O=(0,a.Z)(j,2),w=O[0],_=O[1],E=(0,c.useState)(!1),k=(0,a.Z)(E,2),Z=k[0],S=k[1],P=(0,c.useState)(null),C=(0,a.Z)(P,2),I=C[0],N=C[1],L=(0,u.s0)(),M=(0,u.TH)();(0,c.useEffect)((function(){if(""!==M.search){var e=new URLSearchParams(M.search).get("query");x(e)}}),[M.pathname,M.search]),(0,c.useEffect)((function(){if(b){S(!0);s.v9(b,w).then((function(e){0===e.results.length&&i.ZP.error("There is no result for your request!");var t=e.results;f((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(t))}))})).catch((function(e){return N(e)})).finally((function(){return S(!1)}))}}),[w,b]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p,{onSubmit:function(e){b!==e&&(x(e),L((0,o.Z)((0,o.Z)({},M),{},{search:"?query=".concat(e)})),N(null),f([]))}}),r.length>0&&(0,m.jsx)(l.Z,{movies:r}),I&&(0,m.jsxs)("h2",{children:["Sorry, something went wrong: ",I.message]}),Z&&(0,m.jsx)("div",{className:y,children:(0,m.jsx)(h.Z,{style:{marginRight:"auto",marginLeft:"auto"}})}),!Z&&r.length>0&&!I&&(0,m.jsx)(g.Z,{onClick:function(){S(!0),_((function(e){return e+1}))}})]})}},502:function(e,t,r){r.d(t,{JS:function(){return l},Jh:function(){return m},ef:function(){return f},kP:function(){return d},v9:function(){return p}});var n=r(861),o=r(757),a=r.n(o),i="https://api.themoviedb.org/3",c="api_key=221ed015def0321f18a85f3fc7b4d6fa";function u(){return s.apply(this,arguments)}function s(){return s=(0,n.Z)(a().mark((function e(){var t,r,n,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,fetch(t,r);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("404 Page not found :("));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function l(e){return u("".concat(i,"/trending/movie/day?").concat(c,"&page=").concat(e))}function f(e){return u("".concat(i,"/movie/").concat(e,"?").concat(c))}function d(e){return u("".concat(i,"/movie/").concat(e,"/credits?").concat(c))}function m(e){return u("".concat(i,"/movie/").concat(e,"/reviews?").concat(c))}function p(e,t){return u("".concat(i,"/search/movie?").concat(c,"&language=en-US&query=").concat(e,"&page=").concat(t,"&include_adult=false"))}},635:function(e,t,r){e.exports=r.p+"static/media/outOfPoster.e3015e6c195605e46bc0.jpg"},413:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(942);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},982:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(907);var o=r(181);function a(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=310.aff2b487.chunk.js.map